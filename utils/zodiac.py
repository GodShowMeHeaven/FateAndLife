from datetime import datetime

# Список знаков зодиака и их диапазоны дат
ZODIAC_SIGNS = [
    ("Козерог", (1, 20)), ("Водолей", (2, 19)), ("Рыбы", (3, 20)), 
    ("Овен", (4, 20)), ("Телец", (5, 21)), ("Близнецы", (6, 21)), 
    ("Рак", (7, 22)), ("Лев", (8, 22)), ("Дева", (9, 23)), 
    ("Весы", (10, 23)), ("Скорпион", (11, 22)), ("Стрелец", (12, 21)), 
    ("Козерог", (12, 31))  # Второй Козерог для правильного расчета
]

def get_zodiac_sign(birth_date: str) -> str:
    """Определяет знак зодиака по дате рождения (формат: ДД.ММ.ГГГГ)"""
    try:
        day, month, _ = map(int, birth_date.split("."))
        for sign, (m, d) in ZODIAC_SIGNS:
            if (month == m and day <= d) or (month == m - 1 and day > d):
                return sign
    except ValueError:
        return "⚠️ Неверный формат даты!"
    return "Неизвестный знак"
